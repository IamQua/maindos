<!DOCTYPE html>
<html lang="en">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDtCB5dVvn5R7QWKqCOSfHSQYy_dHGIDoc&callback=initMap&v=weekly" defer></script>
    <head><title>Hello Google Maps</title></head>
    <body>
    <div id="map" style="width: 800px; height: 800px;"></div>
        <div>
            <label>Origin</label>
            <input id="origin" type="textbox">
            <label>Destination</label>
            <input id="destination" type="textbox">
            <input type="button" value="Search Route" onclick="calcRoute()">
        </div> 
    
    <script>
            var directionsService;
            var directionsRenderer;
            var map;
            // Initialize and add the map
            function initMap() {
                directionsService = new google.maps.DirectionsService();
                directionsRenderer = new google.maps.DirectionsRenderer();
                const coordinates = { lat: 37.422040, lng: -122.082810 };
    
    
                map = new google.maps.Map(document.getElementById("map"), {
                    zoom: 13,
                    center: coordinates,
               });
                directionsRenderer.setMap(map);
            }
    
    
            function calcRoute() {
                var start = document.getElementById('origin').value;
                var end = document.getElementById('destination').value;
                var request = {
                    origin: start,
                    destination: end,
                    travelMode: 'DRIVING'
                };
                directionsService.route(request, function (result, status) {
                    if (status == 'OK') {
                        directionsRenderer.setDirections(result);
                    } else { alert("An unexpected error occurred")}
                });
            }
            </script>
            </body>
    </html>